syntax = "proto3";
package oneflow;

import "oneflow/core/job/plan.proto";

message BarrierRequest {
  string name = 1;
  int32 num = 2;
}

message BarrierResponse {
}

message AddWorkerRequest {
  string worker_addr = 1;
}

message AddWorkerResponse {
}

enum TryLockResult {
  kLocked = 0;
  kDone = 1;
  kDoing = 2;
}

message TryLockRequest {
  string name = 1;
}

message TryLockResponse {
  TryLockResult result = 1;
}

message NotifyDoneRequest {
  string name = 1;
}

message NotifyDoneResponse {
}

message WaitUntilDoneRequest {
  string name = 1;
}

message WaitUntilDoneResponse {
}

message FetchPlanRequest {
}

message FetchPlanResponse {
  Plan plan = 1;
}
