syntax = "proto2";
package oneflow;

import "oneflow/core/common/shape.proto";
import "oneflow/core/common/data_type.proto";
import "oneflow/core/record/image.proto";
import "oneflow/core/job/resource.proto";
import "oneflow/core/register/logical_blob_id.proto";

enum ActivationType {
  kNone = 0;
  kTanH = 1;
  kSigmoid = 2;
  kRelu = 3;
}

message ConstantInitializerConf {
  optional float value = 1 [default = 0];
}

message ConstantIntInitializerConf {
  optional int32 value = 1 [default = 0];
}

message RandomUniformInitializerConf {
  optional float min = 1 [default = 0];
  optional float max = 2 [default = 1];
}

message RandomUniformIntInitializerConf {
  optional int32 min = 1 [default = 0];
  optional int32 max = 2 [default = 1];
}

message RandomNormalInitializerConf {
  optional float mean = 1 [default = 0];
  optional float std = 2 [default = 1];
}

enum VarianceNorm {
  kFanIn = 0;
  kFanOut = 1;
  kAverage = 2;
}

message XavierInitializerConf {
  required VarianceNorm variance_norm = 1;
}

message MsraInitializerConf {
  required VarianceNorm variance_norm = 1;
}

message InitializerConf {
  oneof type {
    ConstantInitializerConf constant_conf = 1;
    ConstantIntInitializerConf constant_int_conf = 2;
    RandomUniformInitializerConf random_uniform_conf = 3;
    RandomUniformIntInitializerConf random_uniform_int_conf = 4;
    RandomNormalInitializerConf random_normal_conf = 5;
    XavierInitializerConf xavier_conf = 6;
    MsraInitializerConf msra_conf = 7;
  }
}

message Conv1DOpConf {
  required string in = 1;
  required string out = 2;
  required int32 filters = 3;
  optional string padding = 4 [default = "valid"];
  required string data_format = 5;
  repeated int32 kernel_size = 6;
  repeated int32 strides = 7;
  repeated int32 dilation_rate = 8;
  optional ActivationType activation = 9 [default = kNone];
  optional bool use_bias = 10 [default = true];
  optional InitializerConf weight_initializer = 11;
  optional InitializerConf bias_initializer = 12;
}

message Conv2DOpConf {
  required string in = 1;
  required string out = 2;
  required int32 filters = 3;
  optional string padding = 4 [default = "valid"];
  required string data_format = 5;
  repeated int32 kernel_size = 6;
  repeated int32 strides = 7;
  repeated int32 dilation_rate = 8;
  optional ActivationType activation = 9 [default = kNone];
  optional bool use_bias = 10 [default = true];
  optional InitializerConf weight_initializer = 11;
  optional InitializerConf bias_initializer = 12;
}

message Conv3DOpConf {
  required string in = 1;
  required string out = 2;
  required int32 filters = 3;
  optional string padding = 4 [default = "valid"];
  required string data_format = 5;
  repeated int32 kernel_size = 6;
  repeated int32 strides = 7;
  repeated int32 dilation_rate = 8;
  optional ActivationType activation = 9 [default = kNone];
  optional bool use_bias = 10 [default = true];
  optional InitializerConf weight_initializer = 11;
  optional InitializerConf bias_initializer = 12;
}

message FullyConnectedOpConf {
  required string in = 1;
  required string out = 2;
  required int32 units = 3;
  optional ActivationType activation = 4 [default = kNone];
  optional bool use_bias = 5 [default = true];
  optional InitializerConf weight_initializer = 6;
  optional InitializerConf bias_initializer = 7;
}

message AveragePooling1DOpConf {
  required string in = 1;
  required string out = 2;

  optional string padding = 3 [default = "valid"];
  required string data_format = 4;
  repeated int32 pool_size = 5;
  repeated int32 strides = 6;
}

message MaxPooling1DOpConf {
  required string in = 1;
  required string out = 2;

  optional string padding = 3 [default = "valid"];
  required string data_format = 4;
  repeated int32 pool_size = 5;
  repeated int32 strides = 6;
}

message AveragePooling2DOpConf {
  required string in = 1;
  required string out = 2;

  optional string padding = 3 [default = "valid"];
  required string data_format = 4;
  repeated int32 pool_size = 5;
  repeated int32 strides = 6;
}

message MaxPooling2DOpConf {
  required string in = 1;
  required string out = 2;

  optional string padding = 3 [default = "valid"];
  required string data_format = 4;
  repeated int32 pool_size = 5;
  repeated int32 strides = 6;
}

message AveragePooling3DOpConf {
  required string in = 1;
  required string out = 2;

  optional string padding = 3 [default = "valid"];
  required string data_format = 4;
  repeated int32 pool_size = 5;
  repeated int32 strides = 6;
}

message MaxPooling3DOpConf {
  required string in = 1;
  required string out = 2;

  optional string padding = 3 [default = "valid"];
  required string data_format = 4;
  repeated int32 pool_size = 5;
  repeated int32 strides = 6;
}

message ReluOpConf {
  required string in = 1;
  required string out = 2;
}

message SigmoidOpConf {
  required string in = 1;
  required string out = 2;
}

message TanHOpConf {
  required string in = 1;
  required string out = 2;
}

message SoftmaxOpConf {
  required string in = 1;
  required string out = 2;
  optional int32 axis = 3 [default = -1];
}

enum LossReductionType {
  kSumOverOne = 0;
  kSumOverWeight = 1;
  kSumOverN = 2;
  kSumOverNonZeroWeight = 3;
}

message SparseSoftmaxCrossEntropyLossOpConf {
  required string prediction = 1;
  required string label = 2;
  required string loss = 3;
  optional LossReductionType reduction = 4 [default = kSumOverN];
  optional float weight_scalar = 5 [default = 1.0];
  optional string weight = 6;
}

message SmoothL1LossOpConf {
  required string prediction = 1;
  required string label = 2;
  required string loss = 3;
  optional float beta = 4 [default = 1] ;
  optional float scale = 5 [default = 1];
  required string inside_weights = 6;
  required string outside_weights = 7;
  optional LossReductionType reduction = 8 [default = kSumOverN];
  optional float weight_scalar = 9 [default = 1.0];
  optional string weight = 10;
}

message SparseCrossEntropyLossOpConf {
  required string prediction = 1;
  required string label = 2;
  required string loss = 3;
  optional LossReductionType reduction = 4 [default = kSumOverN];
  optional float weight_scalar = 5 [default = 1.0];
  optional string weight = 6;
}

message SigmoidCrossEntropyLossOpConf {
  required string prediction = 1;
  required string label = 2;
  required string loss = 3;
  optional bool normalize = 4 [default = true];
  optional float scale = 5 [default = 1.0];
  optional LossReductionType reduction = 6 [default = kSumOverN];
  optional float weight_scalar = 7 [default = 1.0];
  optional string weight = 8;
}

message ConcatOpConf {
  repeated string in = 1;
  required string out = 2;
  required int32 axis = 3;
}

message CopyCommNetOpConf {
}

message CopyHdOpConf {
  enum Type {
    H2D = 0;
    D2H = 1;
  }
  required Type type = 1;
}

message CloneOpConf {
  required int32 out_num = 1;
}

message BoxConcatConf {
  required int32 axis = 1;
}

message BoxAddConf {
}

message BoxSplitConf {
  required int32 axis = 1;
  repeated int32 part_num = 2;
}

message BoxCloneConf {
}

message BoxingOpConf {
  required LogicalBlobId lbi = 1;
  required int32 in_num = 2;
  required int32 out_num = 3;

  oneof in_box {
    BoxConcatConf concat_box = 4;
    BoxAddConf add_box = 5;
  }
  oneof out_box {
    BoxSplitConf split_box = 6;
    BoxCloneConf clone_box = 7;
  }
}

message PodBoxingOpConf {
  required BoxingOpConf boxing_conf = 1;
}

message PbBoxingOpConf {
  required BoxingOpConf boxing_conf = 1;
}

message NaiveModelUpdateConf {
}

message MomentumModelUpdateConf {
  optional float beta = 1 [default = 0.9];
}

message RMSPropModelUpdateConf {
  optional float decay_rate = 1 [default = 0.99];
  optional float epsilon = 2 [default = 1e-8];
}

message LARSModelUpdateConf {
  optional float momentum_beta = 1 [default = 0.9];
  optional float epsilon = 2 [default = 1e-9];
  optional float lars_coefficient = 3 [default = 0.0001];
}

message ExponentialDecayConf {
  required int64 decay_batches = 1;
  required double decay_rate = 2;
  optional bool staircase = 3 [default = false];
}

message InverseTimeDecayConf {
  required int64 decay_batches = 1;
  required double decay_rate = 2;
  optional bool staircase = 3 [default = false];
}

message NaturalExpDecayConf {
  required int64 decay_batches = 1;
  required double decay_rate = 2;
  optional bool staircase = 3 [default = false];
}

message PiecewiseConstantConf {
  repeated int64 boundaries = 1;
  repeated double values = 2;
}

message PolynomialDecayConf {
  required int64 decay_batches = 1;
  optional double end_learning_rate = 2 [default = 0.0001];
  optional double power = 3 [default = 1.0];
  optional bool cycle = 4 [default = false];
}

message CosineDecayConf {
  required int64 decay_batches = 1;
  optional double alpha = 2 [default = 0.0];
}

message LinearCosineDecayConf {
  required int64 decay_batches = 1;
  optional double num_periods = 2 [default = 0.5];
  optional double alpha = 3 [default = 0.0];
  optional double beta = 4 [default = 0.001];
}

message LearningRateDecayConf {
  oneof type {
    ExponentialDecayConf exponential_conf = 2000;
    InverseTimeDecayConf inverse_time_conf = 2001;
    NaturalExpDecayConf natural_exp_conf = 2002;
    PiecewiseConstantConf piecewise_constant_conf = 2003;
    PolynomialDecayConf polynomial_conf = 2004;
    CosineDecayConf cosine_conf = 2005;
    LinearCosineDecayConf linear_cosine_conf = 2006;
  }
}

message ConstantWarmupConf {
  required int64 warmup_batches = 1;
  required double multiplier = 2;
}

message LinearWarmupConf {
  required int64 warmup_batches = 1;
  required double start_multiplier = 2;
}

message WarmupConf {
  oneof type {
    ConstantWarmupConf constant_conf = 3000;
    LinearWarmupConf linear_conf = 3001;
  }
}

message NormalModelUpdateOpUserConf {
  optional LearningRateDecayConf learning_rate_decay = 1;
  optional WarmupConf warmup_conf = 2;
  oneof normal_mdupdt {
    NaiveModelUpdateConf naive_conf = 1000;
    MomentumModelUpdateConf momentum_conf = 1001;
    RMSPropModelUpdateConf rmsprop_conf = 1002;
    LARSModelUpdateConf lars_conf = 1003;
  }
}

message NormalModelUpdateOpConf {
  required NormalModelUpdateOpUserConf user_conf = 1;
  required string model_diff = 2;
  required string model = 3;
  required float learning_rate = 4;
  required float l1 = 5;
  required float l2 = 6;
}

message AccumulateOpConf {
}

message EmbeddingLookupAccumulateOpConf {
}

message ModelSaveOpConf {
}


message PrintRecordConf {
  required string lbn = 1;
  optional string name = 2;
  required EncodeConf encode_case = 3;
}

message PrintOpConf {
  repeated PrintRecordConf in = 1;
  required string print_dir = 2;
  optional string part_name_prefix = 3 [default = "part-"];
  optional int32 part_name_suffix_length = 4 [default = -1];
}

message LossPrintOpConf {
  required LogicalBlobId loss_lbi = 1;
  optional LogicalBlobId reduction_lbi = 2;
  optional float weight_scalar = 3 [default = 1.0];
  optional LossReductionType reduction_type = 4 [default = kSumOverN];
}

message AccuracyPrintOpConf {
  required LogicalBlobId accuracy_lbi = 1;
  optional int32 top_k_print = 3 [default = 1];
}

message ReduceSumOpConf {
  oneof in_conf {
    string in = 1; // For User
    LogicalBlobId in_sys = 2; // For System
  }
  required string out = 3;
  optional int32 axis = 4;
  optional bool keepdims = 5 [default = false];
}

message BasicRnnOpConf {
  required string in = 1;
  optional string init_hidden = 2;
  required string out = 3;
  required int32 hidden_size = 4;
  optional ActivationType activation = 6 [default = kTanH];

  optional InitializerConf init_hidden_initializer = 7;
  optional InitializerConf bias_initializer = 8;
  optional InitializerConf i2h_weight_initializer = 9;
  optional InitializerConf h2h_weight_initializer = 10;

  optional bool is_init_hidden_trainable = 11 [default = true];
  optional bool use_bias = 12 [default = true];
}

message BasicLstmOpConf {
}

message ReshapeOpConf {
  required string in = 1;
  required string out = 2;
  required ShapeProto shape = 3;
}

message EmbeddingLookupOpConf {
  required string ids = 1;
  required string out = 2;
  required int32 units = 3;
  required int32 table_size = 4;
  optional InitializerConf weight_initializer = 5;
}

message AddOpConf {
  repeated string in = 1;
  required string out = 2;
  optional ActivationType activation = 3 [default = kNone];
}

message MaximumOpConf {
  repeated string in = 1;
  required string out = 2;
}

message SharedModelDiffAddOpConf {
  required int32 in_num = 1;
}

message LocalResponseNormalizationOpConf {
  required string in = 1;
  required string out = 2;
  required string data_format = 3;
  optional int32 depth_radius = 4 [default = 5];
  optional double bias = 5 [default = 1];
  optional double alpha = 6 [default = 1];
  optional double beta = 7 [default = 0.5];
}

message EncodeConf {
  oneof encode {
    EncodeRaw raw = 1;
    EncodeJpeg jpeg = 2;
    EncodeProtobuf protobuf = 3;
  }
}

message EncodeProtobuf {
}

message EncodeRaw {
}

message EncodeJpeg {
  repeated ImagePreprocess preprocess = 1;
}

message SubtractPreprocessConf {
  required float value = 1;
}

message NormByChannelPreprocessConf {
  repeated float mean_value = 1;
  repeated float std_value = 2;
  required string data_format = 3;
}

message ScalePreprocessConf {
  required float value = 1;
}

message PreprocessConf {
  oneof type {
    SubtractPreprocessConf subtract_conf = 1;
    NormByChannelPreprocessConf norm_by_channel_conf = 2;
    ScalePreprocessConf scale_conf = 3;
  }
}

message RecordLoadOpConf {
  required string out = 1;
  required string data_dir = 2;
  optional string part_name_prefix = 3 [default = "part-"];
  optional int32 part_name_suffix_length = 4 [default = -1];
}

message BlobConf {
  required string name = 1;
  required ShapeProto shape = 2;
  required DataType data_type = 3;
  optional int32 max_sequence_size = 4 [default = 1];
  required EncodeConf encode_case = 5;
  repeated PreprocessConf preprocess = 6;
}

message DecodeOFRecordOpConf {
  required string data_dir = 1;
  optional string part_name_prefix = 2 [default = "part-"];
  optional int32 part_name_suffix_length = 3 [default = -1];
  optional string in = 4;
  repeated BlobConf blob = 5;
}

message DecodeRandomOpConf {
  required string out = 1;
  required ShapeProto shape = 2;
  required DataType data_type = 3;
  required InitializerConf data_initializer = 4; 
}

message DefineTestBlobConf {
  required string out = 1;
  required ShapeProto shape = 2;
  required DataType data_type = 3;
  optional bool has_instance_varying_elem_cnt_field = 4;
  optional bool has_varying_instance_num_field = 5;
  optional ShapeProto instance_inner_shape = 6;
}

message NormalizationOpConf {
  required string in = 1;
  required string out = 2;
  optional int32 axis = 3 [default = -1]; // NCHW = 1, NHWC = 3, TODO: axis list
  optional float momentum = 4 [default = 0.99];
  optional float epsilon = 5 [default = 0.001];
  optional bool center = 6 [default = true];
  optional bool scale = 7 [default = true];
  optional float beta_init = 8 [default = 0.0];
  optional float gamma_init = 9 [default = 1.0];
  optional float mean_init = 10 [default = 0.0];
  optional float variance_init = 11 [default = 1.0];
  optional bool use_first_piece_init_moving = 12 [default = false];
  optional ActivationType activation = 13 [default = kNone];
}

message FpnCollectOpConf{
  repeated string rpn_rois_fpn = 1;
  repeated string rpn_roi_probs_fpn = 2;
  required string out = 3;
  required int32 post_nms_top_n = 4;
  optional int32 level = 5 [default = 5];
}

message AffineChannelOpConf {
  required string in = 1;
  required string out = 2;
  optional int32 channel_axis = 3 [default = 1]; // NCHW = 1, NHWC = 3
  optional InitializerConf scale_initializer = 4;
  optional InitializerConf bias_initializer = 5;
  optional ActivationType activation = 6 [default = kNone];
}

message DropoutOpConf {
  required string in = 1;
  required string out = 2;
  required double rate = 3;
  optional ShapeProto noise_shape = 4;
  optional int64 seed = 5;
}

message TransposeOpConf {
  required string in = 1;
  required string out = 2;
  repeated int32 perm = 3;
}

message ReduceConcatOpConf {
  required int32 in_num = 1;
}

message NcclAllReduceOpConf {
}

message NcclReduceScatterOpConf {
}

message NcclAllGatherOpConf {
}

message ReduceSplitOpConf {
  required int32 out_num = 1;
}

message ReduceScatterOpConf {
  required int32 out_num = 1;
}

message ReduceAddOpConf {
  required int32 in_num = 1;
}

message ReduceGatherOpConf {
  required int32 in_num = 1;
}

message AccuracyOpConf {
  required string prediction = 1;
  required string label = 2;
  optional int32 top_k = 3 [default = 1];
  required string accuracy = 4;
}

message ProposalTargetOpConf {
  required string rpn_rois = 1;
  required string gt_boxes = 2;
  required string gt_labels = 3;
  required string rois = 4;
  required string labels = 5;
  required string bbox_targets = 6;
  required string bbox_inside_weights = 7;
  required string bbox_outside_weights = 8;
  required float foreground_threshold = 9;
  required float background_threshold_low = 10;
  required float background_threshold_high = 11;
  required float foreground_fraction = 12 [default = 0.5];
  required BBoxRegressionWeights bbox_reg_weights = 13;
  required int32 num_classes = 14;
  required int32 num_rois_per_image = 15 [default = 256];
  required int32 max_gt_boxes_num = 16 [default = 256];
  required int32 image_height = 17;
  required int32 image_width = 18;
}

enum ScoringMethod {
  kId = 0;
  kTempAvg = 1;
  kAvg = 2;
  kIouAvg = 3;
  kGeneralizedAvg = 4;
  kQuasiSum = 5;
}

message BboxVoteConf {
  required float beta = 1 [default = 1.0];
  required float threshold = 2 [default = 1];
  required ScoringMethod scoring_method = 3 [default = kId];
}

message BboxNmsAndLimitOpConf {
  required string rois = 1;
  required string bbox_delta = 2;
  required string scores = 3;
  required string labeled_bbox = 4;
  required string bbox_score = 5;
  required BBoxRegressionWeights bbox_reg_weights = 6;
  required float score_threshold = 7;
  required float nms_threshold = 8;
  required int32 detections_per_im = 9;
  required float threshold = 10;
  required int32 image_height = 11;
  required int32 image_width = 12;
  required bool bbox_vote_enabled = 13;
  optional BboxVoteConf bbox_vote = 14;
}

message AnchorGeneratorConf {
  required int32 feature_map_stride = 1 [default = 16];
  repeated float aspect_ratios = 2;
  repeated int32 anchor_scales = 3;
  required int32 image_height = 4;
  required int32 image_width = 5;
}

message ProposalOpConf {
  required string class_prob = 1;
  required string bbox_pred = 2;
  required string rois = 3;
  required string roi_probs = 4;
  required AnchorGeneratorConf anchors_generator_conf = 5;
  required BBoxRegressionWeights bbox_reg_weights = 6;
  required int32 min_size = 7;
  required int32 pre_nms_top_n = 8;
  required int32 post_nms_top_n = 9;
  required float nms_threshold = 10;
}

message BBoxRegressionWeights {
  required float weight_x = 1 [default = 1.0];
  required float weight_y = 2 [default = 1.0];
  required float weight_w = 3 [default = 1.0];
  required float weight_h = 4 [default = 1.0];
}

message RoIPoolingOpConf {
  required string in = 1;
  required string rois = 2;
  required string out = 3;

  required int32 pooled_h = 4;
  required int32 pooled_w = 5;
  required float spatial_scale = 6 [default = 0.0625]; // 1/16
}

message RoIAlignOpConf {
  required string in = 1;
  required string rois = 2;
  required string out = 3;

  required int32 pooled_h = 4;
  required int32 pooled_w = 5;
  optional float spatial_scale = 6 [default = 0.0625]; // 1/16
  optional int32 sampling_ratio = 7 [default = 2]; // adaptive if negative
  optional string data_format = 8 [default = "channels_first"];
}

message AnchorTargetOpConf {
  required string gt_boxes = 1;
  required string rpn_labels = 2;
  required string rpn_bbox_targets = 3;
  required string rpn_bbox_inside_weights = 4;
  required string rpn_bbox_outside_weights = 5;
  required AnchorGeneratorConf anchor_generator_conf = 6;
  required int32 max_gt_boxes_num = 7 [default = 256];
  required float positive_overlap_threshold = 8 [default = 0.7];
  required float negative_overlap_threshold = 9 [default = 0.3];
  required int32 batch_size_per_image = 10 [default = 256];
  required float foreground_fraction = 11 [default = 0.5];
  required float straddle_thresh = 12 [default = 0.0];
  required BBoxRegressionWeights bbox_reg_weights = 13;
}

message MatmulOpConf {
  required string in = 1;
  required string weight = 2;
  optional string bias = 3;
  required int32 units = 4;
  required string out = 5;
}

message DotOpConf {
  required string in = 1;
  required string weight = 2;
  optional string bias = 3;
  required string out = 4;
}

message MultiplyOpConf {
  required string in_0 = 1;
  required string in_1 = 2;
  required string out = 4;
}

message UpsampleNearestOpConf {
  required string in = 1;
  required string out = 2;
  required int32 scale = 3;
  required string data_format = 4;
}

message ResizeNearestNeighborOpConf {
  required string in = 1;
  required string out = 2;
  required string data_format = 3;
  required int64 new_h = 4;
  required int64 new_w = 5;
  optional bool align_corners = 6 [default = false];
}

enum Norm {
  L1 = 1;
  L2 = 2;
}

message HingeLossOpConf {
  required string prediction = 1;
  required string label = 2;
  required string loss = 3;
  optional LossReductionType reduction = 4 [default = kSumOverN];
  optional float weight_scalar = 5 [default = 1.0];
  optional string weight = 6;
  optional Norm norm = 7[default = L1];
}

message BatchPermutationOpConf {
  required string in = 1;
  required string indices = 2;
  required string out = 3;
  required string data_format = 4;
}

message VStackOpConf {
  repeated string in = 1;
  required string out = 2;
  optional bool shape_identical = 3 [default = false];
}

message FpnDistributeOpConf {
  required string collected_rois = 1;
  repeated string rois = 2; // num = rpn_max_level - rpn_min_level + 1
  required string roi_indices = 3;
  required int32 roi_min_level = 4 [default = 2];
  required int32 roi_max_level = 5 [default = 5];
  required int32 roi_canonical_level = 6 [default = 4];
  required float roi_canonical_scale = 7 [default = 224];
}

message OperatorConf {
  required string name = 1;
  optional string model_load_dir = 2;
  optional bool trainable = 3 [default = true];
  optional DeviceType device_type = 4 [default = kInvalidDevice];
  optional bool enable_cudnn = 5;
  optional int64 cudnn_buf_limit_mbyte = 6;
  oneof op_type {
    // system op
    DecodeOFRecordOpConf decode_ofrecord_conf = 101;
    DecodeRandomOpConf decode_random_conf = 102;
    RecordLoadOpConf record_load_conf = 103;
    CopyHdOpConf copy_hd_conf = 104;
    CloneOpConf clone_conf = 105;
    CopyCommNetOpConf copy_comm_net_conf = 106;
    ConcatOpConf concat_conf = 107;
    ReduceScatterOpConf reduce_scatter_conf = 109;
    ReduceAddOpConf reduce_add_conf = 110;
    ReduceGatherOpConf reduce_gather_conf = 111;
    ReduceConcatOpConf reduce_concat_conf = 112;
    ReduceSplitOpConf reduce_split_conf = 113;
    NcclAllReduceOpConf nccl_all_reduce_conf = 114;
    NcclReduceScatterOpConf nccl_reduce_scatter_conf = 115;
    NcclAllGatherOpConf nccl_all_gather_conf = 116;
    AccumulateOpConf accumulate_conf = 117;
    NormalModelUpdateOpConf normal_mdupdt_conf = 118;
    ModelSaveOpConf model_save_conf = 119;
    SharedModelDiffAddOpConf shared_model_diff_add_conf = 120;
    PodBoxingOpConf pod_boxing_conf = 121;
    PbBoxingOpConf pb_boxing_conf = 122;
    
    // user op
    TransposeOpConf transpose_conf = 201;
    ReshapeOpConf reshape_conf = 202;
    BasicRnnOpConf basic_rnn_conf = 203;
    FullyConnectedOpConf fully_connected_conf = 204;
    Conv1DOpConf conv_1d_conf = 205;
    Conv2DOpConf conv_2d_conf = 206;
    Conv3DOpConf conv_3d_conf = 207;
    AveragePooling1DOpConf average_pooling_1d_conf = 208;
    MaxPooling1DOpConf max_pooling_1d_conf = 209;
    AveragePooling2DOpConf average_pooling_2d_conf = 210;
    MaxPooling2DOpConf max_pooling_2d_conf = 211;
    AveragePooling3DOpConf average_pooling_3d_conf = 212;
    MaxPooling3DOpConf max_pooling_3d_conf = 213;
    EmbeddingLookupOpConf embedding_lookup_conf = 214;
    EmbeddingLookupAccumulateOpConf embedding_lookup_accumulate_conf = 215;
    LocalResponseNormalizationOpConf local_response_normalization_conf = 216;
    NormalizationOpConf normalization_conf = 217;
    DropoutOpConf dropout_conf = 218;
    ReduceSumOpConf reduce_sum_conf = 219;
    AddOpConf add_conf = 220;
    MatmulOpConf matmul_conf = 221;
    DotOpConf dot_conf = 222;
    MultiplyOpConf multiply_conf = 223;
    MaximumOpConf maximum_conf = 224;
    SigmoidOpConf sigmoid_conf = 225;
    TanHOpConf tanh_conf = 226;
    ReluOpConf relu_conf = 227;
    SoftmaxOpConf softmax_conf = 228;
    SparseCrossEntropyLossOpConf sparse_cross_entropy_loss_conf = 229;
    HingeLossOpConf hinge_loss_conf = 230;
    SparseSoftmaxCrossEntropyLossOpConf sparse_softmax_cross_entropy_loss_conf = 231;
    AccuracyOpConf accuracy_conf = 232;
    PrintOpConf print_conf = 233;
    AccuracyPrintOpConf accuracy_print_conf = 234;
    LossPrintOpConf loss_print_conf = 235;
    DefineTestBlobConf define_test_blob_conf = 236;
    RoIPoolingOpConf roi_pooling_conf = 1000;
    SmoothL1LossOpConf smooth_l1_loss_conf = 1001;
    ProposalOpConf proposal_conf = 1002;
    RoIAlignOpConf roi_align_conf = 1003;
    ProposalTargetOpConf proposal_target_conf = 1004;
    BboxNmsAndLimitOpConf bbox_nms_and_limit_conf = 1005;
    AnchorTargetOpConf anchor_target_conf = 1006;
    SigmoidCrossEntropyLossOpConf sigmoid_cross_entropy_loss_conf = 1007;
    AffineChannelOpConf affine_channel_conf = 1008;
    UpsampleNearestOpConf upsample_nearest_conf = 1009;
    ResizeNearestNeighborOpConf resize_nearest_neighbor_conf = 1010;
    BatchPermutationOpConf batch_permutation_conf = 1011;
    FpnCollectOpConf fpn_collect_conf = 1012;
    FpnDistributeOpConf fpn_distribute_conf = 1013;
    VStackOpConf v_stack_conf = 1014;
  }
}

message OpNameSet {
  repeated string op_name = 1;
}
