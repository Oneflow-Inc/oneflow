syntax = "proto2";
package oneflow;

message Machine {
  required string addr = 1; // domain name or ip
  required int32 port = 2;
  required string name = 3;
}

enum DeviceType {
  kCPU = 0;
  kGPU = 1;
}

message Resource {
  repeated Machine machine = 1;
  required int32 gpu_device_num = 2;
  required int32 cpu_device_num = 3;
  optional int32 comm_net_worker_num = 4;
  optional int32 persistence_worker_num = 5;
}

// Usage:
//   machine_name:gpu:gpu_dev_phy_id
//   machine_name:gpu:gpu_dev_phy_id_min-gpu_dev_phy_id_max
//   machine_name:cpu:parallel_num
